{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jibrilkala/Documents/Challenges/appwrite-chat-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jibrilkala/Documents/Challenges/appwrite-chat-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jibrilkala/Documents/Challenges/appwrite-chat-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState,useContext}from'react';import{account}from'../appwrite/appwriteConsig';import{useNavigate}from'react-router-dom';import AuthContext from'../contex/auth-contex';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(){var emailInputRef=useRef('');var passwordInputRef=useRef('');var _useState=useState(),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var context=useContext(AuthContext);useEffect(function(){var getUser=account.get();getUser.then(function(res){setUserData(res);},function(err){});},[userData]);var navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var emailInput,passwordInput;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();emailInput=emailInputRef.current.value;passwordInput=passwordInputRef.current.value;_context.prev=3;_context.next=6;return account.createEmailSession(emailInput,passwordInput);case 6:navigate('/chat');context.onLogin();_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](3);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[3,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center mt-20 px-20\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold text-3xl text-blue-700 mb-4 w-[250px]\",children:\"Login to your M-CHAT account\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-gray-600\",children:\"Chat with your friends and family in a way you can't on other platforms\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Use your registered credentials \\uD83D\\uDC47\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"w-full md:w-[60%] mt-10\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email flex flex-col mb-5\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{ref:emailInputRef,className:\"border border-gray400 h-10 rounded outline-none pl-4\",id:\"email\",type:\"email\",placeholder:\"you@example.com\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"password flex flex-col\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{ref:passwordInputRef,className:\"border border-gray400 h-10 rounded outline-none pl-4\",id:\"password\",type:\"password\",placeholder:\"Enter your password\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-10\",children:/*#__PURE__*/_jsx(\"button\",{className:\"border-2 border-orange-400 py-1 px-10 md:px-20 rounded-md text-xl font-bold text-blue-700\",children:\"Log in\"})})]})]});};export default Signup;","map":{"version":3,"names":["React","useEffect","useRef","useState","useContext","account","useNavigate","AuthContext","Signup","emailInputRef","passwordInputRef","userData","setUserData","context","getUser","get","then","res","err","navigate","handleSubmit","e","preventDefault","emailInput","current","value","passwordInput","createEmailSession","onLogin","console","log"],"sources":["/Users/jibrilkala/Documents/Challenges/appwrite-chat-app/src/pages/Signin.js"],"sourcesContent":["import React, {useEffect, useRef, useState, useContext} from 'react'\nimport { account } from '../appwrite/appwriteConsig'\nimport { useNavigate } from 'react-router-dom'\nimport AuthContext from '../contex/auth-contex'\n\n\nconst Signup = () => {\n    const emailInputRef = useRef('')\n    const passwordInputRef = useRef('')\n    const [userData, setUserData] = useState()\n\n    const context = useContext(AuthContext)\n\n    useEffect(() => {\n        const getUser = account.get()\n\n        getUser.then(res => {\n            setUserData(res)\n        }, err => {\n            \n        })\n\n    }, [userData])\n\n    const navigate = useNavigate()\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        \n        const emailInput = emailInputRef.current.value\n        const passwordInput = passwordInputRef.current.value\n\n        try {\n            await account.createEmailSession(emailInput, passwordInput)\n            navigate('/chat')\n            context.onLogin()\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n  return (\n    <div className='flex flex-col items-center mt-20 px-20'>\n        <h1 className='font-bold text-3xl text-blue-700 mb-4 w-[250px]'>Login to your M-CHAT account</h1>\n        <h2 className='text-gray-600'>Chat with your friends and family in a way you can't on other platforms</h2>\n        <p>Use your registered credentials ðŸ‘‡</p>\n        <form className='w-full md:w-[60%] mt-10' onSubmit={handleSubmit}>\n            <div className=\"email flex flex-col mb-5\">\n                <label htmlFor=\"email\">Email:</label>\n                <input ref={emailInputRef} className='border border-gray400 h-10 rounded outline-none pl-4' id='email' type=\"email\" placeholder='you@example.com' required />\n            </div>\n            <div className=\"password flex flex-col\">\n                <label htmlFor=\"password\">Password:</label>\n                <input ref={passwordInputRef} className='border border-gray400 h-10 rounded outline-none pl-4' id='password' type=\"password\" placeholder='Enter your password' required />\n            </div>\n            <div className=\"text-center mt-10\">\n                <button className='border-2 border-orange-400 py-1 px-10 md:px-20 rounded-md text-xl font-bold text-blue-700'>Log in</button>\n            </div>\n        </form>\n    </div>\n  )\n}\n\nexport default Signup"],"mappings":"0bAAA,MAAOA,MAAP,EAAeC,SAAf,CAA0BC,MAA1B,CAAkCC,QAAlC,CAA4CC,UAA5C,KAA6D,OAA7D,CACA,OAASC,OAAT,KAAwB,4BAAxB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,YAAP,KAAwB,uBAAxB,C,wFAGA,GAAMC,OAAM,CAAG,QAATA,OAAS,EAAM,CACjB,GAAMC,cAAa,CAAGP,MAAM,CAAC,EAAD,CAA5B,CACA,GAAMQ,iBAAgB,CAAGR,MAAM,CAAC,EAAD,CAA/B,CACA,cAAgCC,QAAQ,EAAxC,wCAAOQ,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,QAAO,CAAGT,UAAU,CAACG,WAAD,CAA1B,CAEAN,SAAS,CAAC,UAAM,CACZ,GAAMa,QAAO,CAAGT,OAAO,CAACU,GAAR,EAAhB,CAEAD,OAAO,CAACE,IAAR,CAAa,SAAAC,GAAG,CAAI,CAChBL,WAAW,CAACK,GAAD,CAAX,CACH,CAFD,CAEG,SAAAC,GAAG,CAAI,CAET,CAJD,EAMH,CATQ,CASN,CAACP,QAAD,CATM,CAAT,CAWA,GAAMQ,SAAQ,CAAGb,WAAW,EAA5B,CAEA,GAAMc,aAAY,4FAAG,iBAAOC,CAAP,iJACjBA,CAAC,CAACC,cAAF,GAEMC,UAHW,CAGEd,aAAa,CAACe,OAAd,CAAsBC,KAHxB,CAIXC,aAJW,CAIKhB,gBAAgB,CAACc,OAAjB,CAAyBC,KAJ9B,uCAOPpB,QAAO,CAACsB,kBAAR,CAA2BJ,UAA3B,CAAuCG,aAAvC,CAPO,QAQbP,QAAQ,CAAC,OAAD,CAAR,CACAN,OAAO,CAACe,OAAR,GATa,iFAWbC,OAAO,CAACC,GAAR,cAXa,qEAAH,kBAAZV,aAAY,4CAAlB,CAeF,mBACE,aAAK,SAAS,CAAC,wCAAf,wBACI,WAAI,SAAS,CAAC,iDAAd,0CADJ,cAEI,WAAI,SAAS,CAAC,eAAd,qFAFJ,cAGI,mEAHJ,cAII,cAAM,SAAS,CAAC,yBAAhB,CAA0C,QAAQ,CAAEA,YAApD,wBACI,aAAK,SAAS,CAAC,0BAAf,wBACI,cAAO,OAAO,CAAC,OAAf,oBADJ,cAEI,cAAO,GAAG,CAAEX,aAAZ,CAA2B,SAAS,CAAC,sDAArC,CAA4F,EAAE,CAAC,OAA/F,CAAuG,IAAI,CAAC,OAA5G,CAAoH,WAAW,CAAC,iBAAhI,CAAkJ,QAAQ,KAA1J,EAFJ,GADJ,cAKI,aAAK,SAAS,CAAC,wBAAf,wBACI,cAAO,OAAO,CAAC,UAAf,uBADJ,cAEI,cAAO,GAAG,CAAEC,gBAAZ,CAA8B,SAAS,CAAC,sDAAxC,CAA+F,EAAE,CAAC,UAAlG,CAA6G,IAAI,CAAC,UAAlH,CAA6H,WAAW,CAAC,qBAAzI,CAA+J,QAAQ,KAAvK,EAFJ,GALJ,cASI,YAAK,SAAS,CAAC,mBAAf,uBACI,eAAQ,SAAS,CAAC,2FAAlB,oBADJ,EATJ,GAJJ,GADF,CAoBD,CAvDD,CAyDA,cAAeF,OAAf"},"metadata":{},"sourceType":"module"}